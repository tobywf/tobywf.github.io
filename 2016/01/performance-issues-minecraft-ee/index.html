<!DOCTYPE html>
<html lang="en">
<head>
  <title>PerformanceÂ issues - tobywf</title>
  <meta charset="utf-8" />
  <meta name="author" content="Toby Fleming" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:300,300italic,700|Source+Code+Pro:400,700|Montserrat:400" />
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://tobywf.com/theme/main.css" />
  <link rel="icon" href="https://tobywf.com/theme/favicon.png" />
</head>
<body>
  <div class="wrapper">
    <nav>
      <ul>
<!-- breadcrumbs start -->
<li><a href="https://tobywf.com/" id="siteicon"><img src="https://tobywf.com/theme/favicon.svg" alt="Site Icon" /></a></li>
<li class="breadcrumb"><a href="https://tobywf.com/2016/">&#x27;16</a></li>
<li class="breadcrumb"><a href="https://tobywf.com/2016/01/">Jan</a></li>
<li class="last"><a href="https://tobywf.com/resume/" class="cap">resume</a></li>
<!-- breadcrumbs end -->
      </ul>
    </nav>
<!-- content start -->
<header class="post-head">
  <h1>Performance&nbsp;issues</h1>
  <h2>Pondering the Minecraft Education Edition news</h2>
  <div class="infoline">
    <span class="fa fa-calendar"></span> <span class="date">26 Jan &#x27;16</span>
  </div>
</header>
<article>
<p>This post does contain Minecraft, I&nbsp;promise.</p>
<hr />
<p>An (old) post is about <a href="http://roscidus.com/blog/blog/2014/06/06/python-to-ocaml-retrospective/">a tool that was rewritten from Python to OCaml</a>. Aparently, &#8220;the take-away is this: The new code is a similar length (slightly shorter), runs around 10x faster, and is statically type&nbsp;checked.&#8221;</p>
<p>So it must have run really slow to make it worth&nbsp;it?</p>
<p>The first graph on the page seems to suggest yes. Finally, after 6 months, the results were in, and are quite&nbsp;clear:</p>
<table>
<thead>
<tr>
<th align="right">Test</th>
<th align="right">Python 3</th>
<th align="right">OCaml</th>
<th align="right">Speed-up</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><code>0install --help</code></td>
<td align="right">103 ms</td>
<td align="right">8 ms</td>
<td align="right">12.9</td>
</tr>
<tr>
<td align="right"><code>0install select 0repo</code></td>
<td align="right">322 ms</td>
<td align="right">38 ms</td>
<td align="right">8.5</td>
</tr>
<tr>
<td align="right"><code>0install run -w echo armagetron</code></td>
<td align="right">120 ms</td>
<td align="right">15 ms</td>
<td align="right">8.0</td>
</tr>
<tr>
<td align="right"><code>0install run armagetron --version</code></td>
<td align="right">153 ms</td>
<td align="right">45 ms</td>
<td align="right">3.4</td>
</tr>
</tbody>
</table>
<blockquote>
<p>table from <a href="http://roscidus.com/blog/blog/2014/06/06/python-to-ocaml-retrospective/">Python to OCaml:&nbsp;Retrospective</a></p>
</blockquote>
<p><em>The median speed-up is about 8x, so surely this was totally worth&nbsp;it?</em></p>
<p>To be completely accurate, the median speed-up of these examples is 8.25, in practice it could be close to 10. And, if you&#8217;re a business with several thousand web-requests, then saving execution time is worth $$$, and also might let you scale better, so it&#8217;s probably worth paying a programmer or two to do&nbsp;this.</p>
<p>On the other hand, 322ms is 0.322 seconds (metric ftw), or as Wolfram Alpha informs me about the &#8220;average length of a human blink of an eye (100 to 400 ms)&#8221;. I&#8217;m not convinced this was worth it for a <span class="caps">CLI</span> tool used primarily by humans [<span class="blue">citation needed</span>].</p>
<p>Now this sounds pretty negative. And to be fair, one of the goals was &#8220;learning OCaml along the way&#8221;. But even <a href="https://news.ycombinator.com/item?id=7858276">on Hackernews</a>, only one guy seems to have pointed the drawbacks out, and received down-voting for being spot&nbsp;on:</p>
<blockquote>
<p>[&#8230;] The slowest metric for the old code is about 1/3 of a second &#8212; how much benefit does slicing that deliver in real world <code>0install</code> invocations? &#8220;Easier to maintain and extend&#8221; &#8212; well, he just cut the population of potential contributors to the project by a factor of&nbsp;1000.</p>
<p><a href="https://news.ycombinator.com/item?id=7859168">spenrose on&nbsp;Hackernews</a></p>
</blockquote>
<hr />
<p>I bring this up, because apparently the <a href="http://www.zdnet.com/article/minecrafts-new-education-edition-written-in-c-will-outrun-the-java-version/">Minecraft: Education Edition will be written in C++</a>. And while I&#8217;m not going to defend the Minecraft codebase or Java, part of the long-time draw of Minecraft are the mods. Even if most modders decide to make the jump, some won&#8217;t and the community will be worse&nbsp;off.</p>
<p>Having said that, a performance increase would be great of the Raspberry Pi, but currently, it also <a href="https://news.ycombinator.com/item?id=10930194">looks like only Windows will be supported</a>.</p>
<p>This is all <em>if</em> unlicensed, 3rd party mods will be allowed on the Education Edition. Maybe such amateur mods will be restricted to the Community Edition, for some bizzare reason. Can&#8217;t have people exposed to that hacker ethic, they might learn something venturing outside the walled garden. Will someone think of the&nbsp;kids&trade;!</p>
<p>In short, it&#8217;s hard to see how this is going to turn into the great educational message(s) Microsoft is hoping to send(?). I am skeptical, but then I am also a bit cynical,&nbsp;apparently.</p>
</article>
<section>
  <p><span class="fa fa-tags"></span> <a href="https://tobywf.com/tag/python/">Python</a>, <a href="https://tobywf.com/tag/minecraft/">Minecraft</a></p>
  <a href="https://tobywf.com/2016/03/post-holiday-wrap-up-march-16/" class="newer">Newer <span class="fa fa-chevron-circle-right"></span></a>
  <a href="https://tobywf.com/2016/01/javascript-development-is-crazy/" class="older"><span class="fa fa-chevron-circle-left"></span> Older</a>
</section>
<!-- content end -->
    <footer>
      <hr />
      <p class="center">
        <a href="https://github.com/tobywf" class="fa-stack fa-lg">
          <span class="fa fa-github fa-stack-2x"></span>
        </a>
        <a href="https://uk.linkedin.com/in/tobywf" class="fa-stack fa-lg">
          <span class="fa fa-circle fa-stack-2x"></span>
          <span class="fa fa-linkedin fa-stack-1x fa-inverse"></span>
        </a>
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" class="fa-stack fa-lg" style="font-size: 120%;">
          <span class="fa fa-creative-commons fa-stack-2x"></span>
        </a>
      </p>
      <p>
        <span class="fa fa-child fa-fw"></span>Born naked, helpless, and unable to fend for himself, Toby eventually overcame these handicaps to become a code craftsman, tinkerer, and musician. He posts his ramblings here. Toby is currently in Melbourne.
      </p>
      <p>
        <span class="fa fa-copyright fa-fw"></span><span class="date cap">mmxii&ndash;mmxvii</span> <span class="name cap">Toby Fleming</span>
      </p>
      <p>
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">
          <span class="fa fa-creative-commons fa-fw"></span>BY-NC-ND 4.0
        </a>
      </p>
    </footer>
  </div>
</body>
</html>